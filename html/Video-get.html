<html>

<head></head>

<body>

	<h1>Library:
		</p>
		<h1>Below are the library's videos:</h1>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<div id="divVideo">
  <video controls>
    <source src="test1.mp4" type="video/ogg" />
  </video>
</div>

		<script>
			//my best attempt at a javascript get request
			async function getRequest() {
				const response = await fetch('	https://fv9h3awn2g.execute-api.us-east-2.amazonaws.com/beta/videos');
				const myJson = await response.json();
				console.log(JSON.parse(myJson.body));
				createMovies(JSON.parse(myJson.body).videos);
			}

			function createMovies(videos) {
				var i = 0; //Extract data from each video in array
				for (i; i < videos.length; i++) {
					var currentVid = videos[i];
					var x = $("#divVideo video source");
					x.attr('src', "https://xscratch-videos.s3.us-east-2.amazonaws.com" + currentVid.url);
					$("#divVideo video")[0].load();
				}
			}
		</script>

		<body onload=getRequest()>


			<script>

				var num0 = document.getElementById("num0");
				num0.addEventListener("ended", function () { num1.play(); });
				var num1 = document.getElementById("num1");
				num1.addEventListener("ended", function () { num2.play(); });
				var num2 = document.getElementById("num2");
				num2.addEventListener("ended", function () { num3.play(); });
				var num3 = document.getElementById("num3");
				num3.addEventListener("ended", function () { num4.play(); });
				var num4 = document.getElementById("num4");
				num4.addEventListener("ended", function () { num5.play(); });
				var num5 = document.getElementById("num5");
				num5.addEventListener("ended", function () { num6.play(); });
				var num6 = document.getElementById("num6");
				num6.addEventListener("ended", function () { num7.play(); });




			</script>






		</body>

</html>